<html>
<head>
	<title></title>

<style type="text/css">
#device{
	background-image:url('devices/mosfet.png');
	width:700px;
	height:508px;
	background-repeat: no-repeat;
}

#device .node1{
	float:left;
	height: 200px;
	padding:30px 0 0 30px;
}
#device .node2{
	float: right;
	height: 200px;
	padding:80px 0 0 0;
	
}
#device .node3{
	float:left;
	height: 200px;
	padding:60px 0 0 30px;

}
#device .node4{
	float: right;
	height: 200px;
	padding:60px 0 0 0;

}
</style>
	<script type="text/javascript" src="jquery-1.10.2.js"></script>
	<script type="text/javascript" src="analysis.js"> </script>
	<script type="text/javascript">
	
	var analysis = new Analysis();
	$(document).ready(function() {
		console.log('Document ready');
		$('select[name="mode"]').each( function(i, obj){
			$(obj).bind('change', function(){
				node = $(obj).parent().attr('node');
				mode = $(this).val();
				analysis.onChangeMode( node, mode );
			})
		});
		$('select[name="method"]').each( function(i, obj){
			$(obj).bind('change', function(){
				node = $(obj).parent().attr('node');
				method = $(this).val();
				analysis.onChangeMethod( node, method );
			})
		});
		$('.config').each( function(i, obj){
			$(obj).bind('change', function(){
				node = $(obj).parent().parent().attr('node');
				item = $(this).parent().attr('name');
				value = $(this).val();
				analysis.onChangeConfig( node, item, value );
			})
		});

		$('input[name="save"]').bind('click', analysis.save);
	
	});

	try{
		Api.openedAnalysis.connect(analysis.init);
	}catch(e){
		alert(e);
	}

	</script>

</head>
<body>
<div id="device">
	<div class="node1" node="D">
		<strong>Сток</strong><br/>
		Режим: 
		<select name="mode">
			<option value="voltage">Напряжение</option>
			<option value="current">Ток</option>
			<option value="gnd">Земля</option>
		</select> <br/>
		Метод:
		<select name="method">
			<option value="const">Константа</option>
			<option value="linear">Линейный</option>
		</select><br/>
		<label name="const"  method="const">Константа: <input class="config"><br/></label>
		<label name="number" method="linear">Номер:
		<select class="config">
			<option value="1">1</option>
			<option value="2">2</option>
		</select>
		<br/></label>
		<label name="start"  method="linear">Начало: <input class="config"/><br/></label>
		<label name="step"   method="linear">Шаг: <input  class="config"/><br/></label>
		<label name="end"    method="linear">Конец: <input  class="config"/></label>
	</div>
	
	<div class="node2" node="B">
		<strong>Подложка</strong><br/>
		Режим: 
		<select name="mode">
			<option value="voltage">Напряжение</option>
			<option value="current">Ток</option>
			<option value="gnd">Земля</option>
		</select> <br/>
		Метод:
		<select name="method">
			<option value="const">Константа</option>
			<option value="linear">Линейный</option>
		</select><br/>
		<label name="const"  method="const">Константа: <input class="config"><br/></label>
		<label name="number" method="linear">Номер:
		<select class="config">
			<option value="1">1</option>
			<option value="2">2</option>
		</select>
		<br/></label>
		<label name="start"  method="linear">Начало: <input class="config"/><br/></label>
		<label name="step"   method="linear">Шаг: <input  class="config"/><br/></label>
		<label name="end"    method="linear">Конец: <input  class="config"/></label>
	</div>
	<div style="clear:both;"></div>
	<div class="node3" node="G">
		<strong>Затвор</strong><br/>
		Режим: 
		<select name="mode">
			<option value="voltage">Напряжение</option>
			<option value="current">Ток</option>
			<option value="gnd">Земля</option>
		</select> <br/>
		Метод:
		<select name="method">
			<option value="const">Константа</option>
			<option value="linear">Линейный</option>
		</select><br/>
		<label name="const"  method="const">Константа: <input class="config"><br/></label>
		<label name="number" method="linear">Номер:
		<select class="config">
			<option value="1">1</option>
			<option value="2">2</option>
		</select>
		<br/></label>
		<label name="start"  method="linear">Начало: <input class="config"/><br/></label>
		<label name="step"   method="linear">Шаг: <input  class="config"/><br/></label>
		<label name="end"    method="linear">Конец: <input  class="config"/></label>
	</div>
	<div class="node4" node="S">
		<strong>Исток</strong><br/>
		Режим: 
		<select name="mode">
			<option value="voltage">Напряжение</option>
			<option value="current">Ток</option>
			<option value="gnd">Земля</option>
		</select> <br/>
		Метод:
		<select name="method">
			<option value="const">Константа</option>
			<option value="linear">Линейный</option>
		</select><br/>
		<label name="const"  method="const">Константа: <input class="config"><br/></label>
		<label name="number" method="linear">Номер:
		<select class="config">
			<option value="1">1</option>
			<option value="2">2</option>
		</select>
		<br/></label>
		<label name="start"  method="linear">Начало: <input class="config"/><br/></label>
		<label name="step"   method="linear">Шаг: <input  class="config"/><br/></label>
		<label name="end"    method="linear">Конец: <input  class="config"/></label>
	</div>
	
</div>
<div style="clear:both;"></div>
<div style="float:right; padding:20px 30px 0 0">
		<input style="width:100px; height:50px" type="button" name="save" value="Сохранить" >
	</div>


</body>
</html>
